<!DOCTYPE html>
<html lang="en-us"><head>
<meta charset="UTF-8"><title>Open Mainframe Project - ADE</title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
<link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen"></head>
<body id="appendix_apis_4zaware_v2lpar">
<section class="page-header">
<h1 class="project-name">ADE</h1>
<h2 class="project-tagline">Anomaly Detection Engine for Linux Logs</h2>
<a href="https://github.com/openmainframeproject/ade" class="btn">View on GitHub</a>
   <a href="https://github.com/openmainframeproject/ade/zipball/master" class="btn">Download .zip</a>
   <a href="https://github.com/openmainframeproject/ade/tarball/master" class="btn">Download .tar.gz</a>
</section>
<section class="main-content">
      <h1>
<a id="anomaly-detection-engine-for-linux-logs-ade" class="anchor" href="#anomaly-detection-engine-for-linux-logs-ade" aria-hidden="true"><span class="octicon octicon-link"></span></a>Anomaly detection Engine for Linux Logs (ADE)</h1>

<div role="main">
<h1 class="title topictitle1">XML&nbsp;Results from an Analyze request - summary of period (day)</h1>
<div class="body">
<p class="p">The following code illustrates the XML structure of the output generated by&nbsp; <span style="font-weight: bold;">analyze&nbsp;</span><span style="font-weight: bold;"></span>for each period (day) &nbsp;for each Linux system in the model group
from the collection of logs processed by <span style="font-weight: bold;">analyze</span><samp class="ph codeph"></samp><span class="keyword parmname parmname"></span>. The major element is the <span class="keyword parmname parmname">systems</span> element,
which identifies the specific date and &nbsp;system for
which analytical data was requested. The <span class="keyword parmname parmname">systems</span> element
also identifies the number and size of intervals returned in the XML
document. The XML also contains one <span class="keyword parmname parmname">interval</span> element
for each <span class="ph">analysis snapshot</span> since UTC midnight on the requested
date. The <span class="keyword parmname parmname">interval</span> element provides the interval
anomaly score and number of unique message IDs that were generated by <span style="font-weight: bold;">analyze</span><span class="ph"></span>.</p>

<pre class="pre codeblock"><code>&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"<br>    targetNamespace="http://www.ibm.com/zAware/MelodyCorePlexV2" <br>    xmlns="http://www.ibm.com/zAware/MelodyCorePlexV2"<br>    elementFormDefault="qualified"&gt;<br><br>    &lt;xs:element name="systems" &gt;<br>    &lt;xs:complexType&gt;<br>        &lt;xs:sequence&gt;<br>            &lt;xs:element name="version" type="xs:int"/&gt;<br>            &lt;xs:element name="start_time" type="xs:dateTime" /&gt;<br>            &lt;xs:element name="end_time" type="xs:dateTime" /&gt;<br>            &lt;xs:element name="gmt_offset" type="xs:string" /&gt;<br>            &lt;xs:element name="number_intervals"&gt;<br>                &lt;xs:complexType&gt;<br>                    &lt;xs:simpleContent&gt;<br>                        &lt;xs:extension base="xs:int"&gt;<br>                            &lt;xs:attribute name="analysis_snapshot_size" type="xs:int" use="required"/&gt;<br>                        &lt;/xs:extension&gt;<br>                    &lt;/xs:simpleContent&gt;                 <br>                &lt;/xs:complexType&gt;<br>            &lt;/xs:element&gt;       <br>            &lt;xs:element name="interval_size" type="xs:int" /&gt;<br>            &lt;xs:element name="model_info"&gt;<br>                &lt;xs:complexType&gt;<br>                    &lt;xs:attribute name="model_creation_date" type="xs:dateTime" use="required"/&gt;<br>                    &lt;xs:attribute name="training_period" type="xs:int" use="required"/&gt;<br>                    &lt;xs:attribute name="analysis_group" type="xs:string" use="required"/&gt;<br>                &lt;/xs:complexType&gt;<br>            &lt;/xs:element&gt;<br>            &lt;xs:element name="system" type="systems_system_type"<br>                minOccurs="1" maxOccurs="1" /&gt;<br>        &lt;/xs:sequence&gt;<br>    &lt;/xs:complexType&gt;<br>    &lt;/xs:element&gt;<br><br>    &lt;xs:complexType name="systems_system_type"&gt;<br>        &lt;xs:sequence&gt;           <br>            &lt;xs:element name="interval" type="systems_interval_type"<br>                minOccurs="0" maxOccurs="unbounded" /&gt;<br>        &lt;/xs:sequence&gt;<br>        &lt;xs:attribute name="sys_id" type="xs:string" use="required" /&gt;<br>        &lt;xs:attribute name="log_type" type="xs:string" use="required"/&gt;<br>    &lt;/xs:complexType&gt;<br><br>    &lt;xs:complexType name="systems_interval_type"&gt;<br>        &lt;xs:sequence&gt;<br>            &lt;xs:element name="num_unique_msg_ids" type="xs:int" /&gt;<br>            &lt;xs:element name="anomaly_score" type="xs:double" /&gt;<br>        &lt;/xs:sequence&gt;<br>				 &lt;xs:attribute name="num_never_seen_before_messages" type="xs:int" use="required" /&gt;<br>        &lt;xs:attribute name="num_new_messages" type="xs:int" use="required" /&gt;        <br>        &lt;xs:attribute name="index" type="xs:int" use="required"/&gt;<br>        &lt;xs:attribute name="missing" type="xs:boolean" use="required"/&gt;<br>        &lt;xs:attribute name="missing_reason" type="xs:string" use="optional"/&gt;<br>        &lt;xs:attribute name="limited_model" use="optional"&gt;<br>            &lt;xs:simpleType&gt;<br>                &lt;xs:restriction base="xs:string"&gt;<br>                    &lt;xs:enumeration value="Yes" /&gt;<br>                    &lt;xs:enumeration value="No" /&gt;<br>                    &lt;xs:enumeration value="Unknown" /&gt;<br>                &lt;/xs:restriction&gt;<br>            &lt;/xs:simpleType&gt;<br>        &lt;/xs:attribute&gt;<br>    &lt;/xs:complexType&gt;<br><br>&lt;/xs:schema&gt;</code></pre>
<div class="section" id="appendix_apis_4zaware_v2lpar__get_v2lpar_elements"><h2 class="title sectiontitle">XML descriptions
for Period output</h2><div class="p">The following list describes
the major elements in the <span class="keyword parmname parmname">systems</span> element.<dl class="dl parml"><dt class="dt pt dlterm">version</dt>
<dd class="dd pd">An integer that identifies the version of the <span class="ph">ADE</span> application programming
interface (API).</dd>
<dt class="dt pt dlterm">start_time</dt>
<dd class="dd pd">Indicates the beginning of the first interval for which data is
available for the specified system on the date&nbsp;<span class="keyword parmname parmname"><span style="font-weight: bold;"></span></span>.
The start time is indicated in the XML <samp class="ph codeph">dateTime</samp> data
type format in Coordinated Universal Time (UTC).<pre class="pre codeblock"><code><var class="keyword varname">YYYY-MM-DD</var><strong class="ph b">T</strong><var class="keyword varname">hh:mm:ss.ttt</var><strong class="ph b">Z</strong></code></pre>
</dd>
<dt class="dt pt dlterm">end_time</dt>
<dd class="dd pd">Indicates the beginning of the first interval <em class="ph i">after</em> the
date&nbsp;<span class="keyword parmname parmname"></span>. The end
time is indicated in the XML <samp class="ph codeph">dateTime</samp> data type format
in Coordinated Universal Time (UTC).<pre class="pre codeblock"><code><var class="keyword varname">YYYY-MM-DD</var><strong class="ph b">T</strong><var class="keyword varname">hh:mm:ss.ttt</var><strong class="ph b">Z</strong></code></pre>
</dd>
<dt class="dt pt dlterm">gmt_offset</dt>
<dd class="dd pd">An integer that indicates the difference in hours and minutes
from Coordinated Universal Time (UTC) for the requested start time.</dd>
<dt class="dt pt dlterm">number_intervals</dt>
<dd class="dd pd">An integer that indicates the number of intervals for which analytical
data is available for the system and the date<span class="keyword parmname parmname"></span>.
The attribute <span class="keyword parmname parmname">analysis_snapshot_size</span> provides
the size of an analysis snapshot in seconds.</dd>
<dt class="dt pt dlterm">analysis_snapshot_size</dt>
<dd class="dd pd">An integer that indicates the amount of time in an analysis snapshot.</dd>
<dt class="dt pt dlterm">interval_size</dt>
<dd class="dd pd"><span class="ph">An integer that indicates the number
of seconds in an interval.</span></dd>
<dt class="dt pt dlterm">model_info</dt>
<dd class="dd pd">Provides information about the model associated with the specified
system.<dl class="dl parml"><dt class="dt pt dlterm"><a name="appendix_apis_4zaware_v2lpar__lpar_model_creation_date"><!-- --></a>model_creation_date</dt>
<dd class="dd pd">An element that provides the date and time when <span class="ph">ADE</span> successfully built
the most recent model of system behavior for this date.</dd>
<dt class="dt pt dlterm"><a name="appendix_apis_4zaware_v2lpar__lpar_training_period"><!-- --></a>training_period</dt>
<dd class="dd pd">An integer that indicates the number of consecutive calendar days
that the <span class="ph">ADE</span>
uses to identify the&nbsp; data to include in training models.</dd>
<dt class="dt pt dlterm"><a name="appendix_apis_4zaware_v2lpar__lpar_analysis_group"><!-- --></a>analysis_group</dt>
<dd class="dd pd">An element that provides <span class="ph">the
name of a&nbsp;Linux model group in the <span class="ph">IBM zAware</span> topology</span>. </dd>
</dl>
</dd>
<dt class="dt pt dlterm">system</dt>
<dd class="dd pd"><span class="ph" id="appendix_apis_4zaware_v2lpar__lpar_system_sysid">An element that provides additional
details about intervals for the system<span class="keyword parmname parmname"></span>.</span><dl class="dl parml"><dt class="dt pt dlterm">interval</dt>
<dd class="dd pd">An element that provides additional details about a specific interval.
For the system and the date<span class="keyword parmname parmname"></span>,
the XML response contains one interval element for each element for
which analytical data is available.<dl class="dl parml"><dt class="dt pt dlterm">num_unique_msg_ids</dt>
<dd class="dd pd">An integer that provides the number of unique message IDs that
were issued during this analysis interval. If the same message ID
was issued more than once during the interval, the message ID is counted
only once.</dd>
<dt class="dt pt dlterm">anomaly_score</dt>
<dd class="dd pd" id="appendix_apis_4zaware_v2lpar__d11767e224">A double value that provides the anomaly
score for this interval. The interval anomaly score is the percentile
of the sum of each anomaly score for individual message IDs within
an interval. When the <span class="ph">ADE</span>
uses priming data and current data to create a model of system behavior,
a process that is called <span class="q">"training"</span>, ADE captures the
distribution of interval anomaly scores for all intervals that are
represented in the training data. The server uses the distribution
results and uses them to establish the range of values for each percentile.<div class="p">The
possible interval anomaly scores are:<dl class="dl"><dt class="dt dlterm">0 through 99.4</dt>
<dd class="dd">The analysis interval contains messages and message clusters that
match or exhibit relatively insignificant differences in expected
behavior, as defined in the <span class="ph">ADE</span> model. A score of
0 is possible because the server eliminates all expected, in-context
messages from its scoring calculation. A score of 0 indicates intervals
that exhibit no difference in behavior compared to the system <span class="ph">or
group</span> model.&nbsp;<p class="p">Analysis intervals
with scores that are greater than 0 but less than 99.5 contain some
messages that are unexpected or issued out of context. Scores in this
range indicate intervals that do not vary significantly from the system
model.&nbsp;</p>
</dd>
<dt class="dt dlterm">99.5 </dt>
<dd class="dd">Analysis intervals with this score contain some rarely seen, unexpected,
or out-of-context messages. Generally speaking, this score indicates
analysis intervals with some differences from the system <span class="ph">or group</span> model
but do not contain messages of much diagnostic value.&nbsp;</dd>
<dt class="dt dlterm">99.6 - 100</dt>
<dd class="dd">Analysis intervals with this score contain rarely seen messages
(these messages appear in the model only once or twice), or many messages
that are unexpected or issued out of context. This score indicates
analysis intervals with more differences from the system <span class="ph">or group</span> model;
these intervals can contain messages that might help you diagnose
anomalous system behavior.&nbsp;</dd>
<dt class="dt dlterm">101</dt>
<dd class="dd">Analysis intervals with this score exhibit the most significant
differences from the system <span class="ph">or group</span> model; these intervals
contain messages that merit investigation. <span class="ph">ADE</span> assigns this score
to analysis intervals that contain: <ul class="ul" compact="compact"><li class="li">Unusual or unexpected messages..</li>
<li class="li">A much higher volume of messages than expected.</li>
</ul>
</dd>
</dl>
</div>
</dd>
<dt class="dt pt dlterm">num_never_seen_before_messages</dt>
<dd class="dd pd">An integer that indicates the total number of messages in this
interval that are considered new because they have never been reported
in analysis results. </dd>
<dt class="dt pt dlterm">num_new_messages</dt>
<dd class="dd pd">An integer that indicates the total number of messages in this
interval that are considered new because they are not in the current
model. </dd>
<dt class="dt pt dlterm">index</dt>
<dd class="dd pd">An integer that indicates the sequence number of this interval
within the date specified on the LPAR request.</dd>
<dt class="dt pt dlterm">missing</dt>
<dd class="dd pd">A Boolean value that identifies whether analytical data is available
for this interval.</dd>
<dt class="dt pt dlterm">missing_reason</dt>
<dd class="dd pd">An element that indicates why analytical data is not available;
this element has a value only when the value returned for <samp class="ph codeph">missing</samp> is <samp class="ph codeph">true</samp>.</dd>
<dt class="dt pt dlterm">limited_model</dt>
<dd class="dd pd">Indicates whether or not <span class="ph">ADE</span> used a limited model
to calculate the anomaly score for the interval. Valid values are
Yes, No, or Unknown, which indicates temporary conditions under which <span class="ph">ADE</span> cannot determine
whether the model is limited. </dd>
</dl>
</dd>
<dt class="dt pt dlterm">sys_id</dt>
<dd class="dd pd">Provides the name of the system&nbsp;<span class="keyword parmname parmname"></span></dd>
<dt class="dt pt dlterm">log_type</dt>
<dd class="dd pd">An element that identifies the type of data that ADE used to build the results.<span class="ph"></span>.</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section"><h2 class="title sectiontitle">Sample XML Output Summary of Intervals within the Period</h2><dl class="dl parml"><dd class="dd pd">The output:

<pre><code>&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt; 
&lt;?xml-stylesheet href=&#39;./xslt/AdeCorePlexV2.xsl&#39; type=&#39;text/xsl&#39; ?&gt;
&lt;systems xsi:noNamespaceSchemaLocation=&quot;/xml/AdeCorePlexV2.xsd&quot; xmlns=&quot;http://www.openmainframe.org/ade/AdeCorePlexV2&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
    &lt;version&gt;2&lt;/version&gt;
    &lt;start_time&gt;2015-12-11T19:00:00.000-05:00&lt;/start_time&gt;
    &lt;end_time&gt;2015-12-12T19:00:00.000-05:00&lt;/end_time&gt;
    &lt;gmt_offset&gt;GMT+00:00&lt;/gmt_offset&gt;
    &lt;number_intervals analysis_snapshot_size=&quot;600&quot;&gt;144&lt;/number_intervals&gt;
    &lt;interval_size&gt;3600&lt;/interval_size&gt;
    &lt;model_info model_creation_date=&quot;2016-02-10T16:02:56.840Z&quot; training_period=&quot;7&quot; analysis_group=&quot;default&quot;/&gt;
    &lt;system sys_id=&quot;sys1.openmainframe.org&quot; log_type=&quot;Unix style syslog&quot;&gt;
        &lt;interval num_never_seen_before_messages=&quot;0&quot; num_new_messages=&quot;7&quot; index=&quot;0&quot; missing=&quot;false&quot; limited_model=&quot;Yes&quot;&gt;
            &lt;num_unique_msg_ids&gt;32&lt;/num_unique_msg_ids&gt;
            &lt;anomaly_score&gt;99.5&lt;/anomaly_score&gt;
        &lt;/interval&gt;
        &lt;interval num_never_seen_before_messages=&quot;0&quot; num_new_messages=&quot;6&quot; index=&quot;1&quot; missing=&quot;false&quot; limited_model=&quot;Yes&quot;&gt;
            &lt;num_unique_msg_ids&gt;26&lt;/num_unique_msg_ids&gt;
            &lt;anomaly_score&gt;98.9&lt;/anomaly_score&gt;
        &lt;/interval&gt;
        &lt;interval num_never_seen_before_messages=&quot;0&quot; num_new_messages=&quot;5&quot; index=&quot;2&quot; missing=&quot;false&quot; limited_model=&quot;Yes&quot;&gt;
            &lt;num_unique_msg_ids&gt;28&lt;/num_unique_msg_ids&gt;
            &lt;anomaly_score&gt;98.9&lt;/anomaly_score&gt;
        &lt;/interval&gt;
        &lt;interval num_never_seen_before_messages=&quot;0&quot; num_new_messages=&quot;5&quot; index=&quot;3&quot; missing=&quot;false&quot; limited_model=&quot;Yes&quot;&gt;
            &lt;num_unique_msg_ids&gt;27&lt;/num_unique_msg_ids&gt;
            &lt;anomaly_score&gt;98.9&lt;/anomaly_score&gt;
        &lt;/interval&gt;
        &lt;interval num_never_seen_before_messages=&quot;0&quot; num_new_messages=&quot;8&quot; index=&quot;4&quot; missing=&quot;false&quot; limited_model=&quot;Yes&quot;&gt;
            &lt;num_unique_msg_ids&gt;30&lt;/num_unique_msg_ids&gt;
            &lt;anomaly_score&gt;99.5&lt;/anomaly_score&gt;
        &lt;/interval&gt;
        ........
                &lt;interval num_never_seen_before_messages=&quot;0&quot; num_new_messages=&quot;8&quot; index=&quot;143&quot; missing=&quot;false&quot; limited_model=&quot;Yes&quot;&gt;
            &lt;num_unique_msg_ids&gt;30&lt;/num_unique_msg_ids&gt;
            &lt;anomaly_score&gt;100.0&lt;/anomaly_score&gt;
        &lt;/interval&gt;
    &lt;/system&gt;
&lt;/systems&gt;
</code></pre>
</div>
<footer class="site-footer"> <span class="site-footer-owner"><a href="https://github.com/openmainframeproject/ade">ADE</a> is
maintained by <a href="https://github.com/openmainframeproject/ade">Open Mainframe project - ADE</a>.</span>
<span class="site-footer-credits">This page was generated
by <a href="https://pages.github.com">GitHub Pages</a>
using the <a href="https://github.com/jasonlong/cayman-theme">Cayman
theme</a> by <a href="https://twitter.com/jasonlong">Jason
Long</a>.</span> </footer>
</body
</html>